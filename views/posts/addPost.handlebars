<header>
  <div class="navbar">
    <div class="home-bar">
      <a href="/" class="home-link">Home</a>

      <form method="POST" action="/homepage" class="search-form" id="search-form">

        <label for="search-bar" class="search-label">
          <input name="searchText" type="text" placeholder="Search for an item" class="search-bar" id="search-bar"
            value="" />
          <button type="submit" class="search-button">Search</button>
        </label>
        <div class="filter-container">
          <div class="filter-toggle-button">
            Filter
            <img src="public/images/chevron-down.svg" alt="filter button" class="filter-toggle-button-image" />
          </div>
          <label for="filter" class="filter-label">
            <div>
              <input id="electronics" name="tagSelect" type="checkbox" value="Electronics" />
              <label for="electronics">Electronics</label>
            </div>
            <div>
              <input id="appliances" name="tagSelect" type="checkbox" value="Appliances" />
              <label for="appliances">Appliances</label>
            </div>
            <div>
              <input id="furniture" name="tagSelect" type="checkbox" value="Furniture" />
              <label for="furniture">Furniture</label>
            </div>
            <div>
              <input id="clothing" name="tagSelect" type="checkbox" value="Clothing" />
              <label for="clothing">Clothing</label>
            </div>
            <div>
              <input id="sport-equipment" name="tagSelect" type="checkbox" value="Sports Equipment" />
              <label for="sport-equipment">Sport Equipment</label>
            </div>
            <div>
              <input id="books" name="tagSelect" type="checkbox" value="Books" />
              <label for="books">Books</label>
            </div>
            <div>
              <input id="school-supplies" name="tagSelect" type="checkbox" value="School Supplies" />
              <label for="school-supplies">School Supplies</label>
            </div>
            <div>
              <input id="other" name="tagSelect" type="checkbox" value="Other" />
              <label for="other">Other</label>
            </div>
          </label>
        </div>

        <button type="submit" class="filter-button">Filter</button>
      </form>
    </div>
    {{#if userLogin}}
    <div class="links">
      <a href="/login" class="login-link">Log In</a>
      <a href="/signup" class="signup-link">Sign Up</a>
    </div>
    {{else}}
    <div class="links">
      <a href="/post" class="addpost-link">Add Post</a>
      <a href="/account" class="userpage-link">Account</a>
      <a href="/logout" class="logout-link">Log Out</a>
    </div>
    {{/if}}
    <div class="toggle-button">
      <img src="public/images/align-justify.svg" alt="toggle button" class="toggle-button-image" />
    </div>
  </div>
  {{#if userLogin}}
  <div class="dropdown-menu">
    <div class="dropdown-links">
      <a href="/login">Log In</a>
      <a href="/signup">Sign Up</a>
    </div>
  </div>
  {{else}}
  <div class="dropdown-menu">
    <div class="dropdown-links">
      <a href="/post">Add Post</a>
      <a href="/userpage">Account</a>
      <a href="/logout">Log Out</a>
    </div>
  </div>
  {{/if}}
</header>

<main>
  <div class="form-container">
    <form action="/post" method="POST" enctype="multipart/form-data" id="add-post-form">
      <p class="add-post-title">Add a New Post</p>

      {{#if userError}} <!-- this is for server-side errors -->
      <div class="invalid-user-error">{{userError}}</div>
      {{else}} <!-- this is for clientside errors -->
      <div class="clientside-user-error"></div>
      {{/if}}

      <label for="itemName">Item Name:</label>
      <input type="text" id="itemName" name="itemName" placeholder="Item name" value="{{body.itemName}}" />

      {{#if itemNameError}} <!-- this is for server-side errors -->
      <div class="invalid-item-name-error">{{itemNameError}}</div>
      {{else}} <!-- this is for clientside errors -->
      <div class="clientside-item-name-error"></div>
      {{/if}}

      <label for="description">Description:</label>
      <textarea name="description" id="description" cols="30" rows="10" value="{{body.description}}"
        placeholder="Enter a description of your item"></textarea>
      {{#if descriptionError}}
      <div class="invalid-description-error">{{descriptionError}}</div>
      {{else}}
      <div class="clientside-description-error"></div>
      {{/if}}


      <label for="location" class="location-container">Location:</label>
      <select name="location" id="location">
        {{#each locations}}
        <option value="{{this}}">{{this}}</option>
        {{/each}}
      </select>

      {{#if locationError}} <!-- this is for server-side errors -->
      <div class="invalid-location-error">{{locationError}}</div>
      {{else}} <!-- this is for clientside errors -->
      <div class="clientside-location-error"></div>
      {{/if}}

      <p class="tags-title">Tags:</p>
      <label for="tags" class="tags-container">
        <div>
          <input id="electronics2" name="tagSelect" type="checkbox" value="Electronics" />
          <label for="electronics2">Electronics</label>
        </div>
        <div>
          <input id="appliances2" name="tagSelect" type="checkbox" value="Appliances" />
          <label for="appliances2">Appliances</label>
        </div>
        <div>
          <input id="furniture2" name="tagSelect" type="checkbox" value="Furniture" />
          <label for="furniture2">Furniture</label>
        </div>
        <div>
          <input id="clothing2" name="tagSelect" type="checkbox" value="Clothing" />
          <label for="clothing2">Clothing</label>
        </div>
        <div>
          <input id="sport-equipment2" name="tagSelect" type="checkbox" value="Sport Equipment" />
          <label for="sport-equipment2">Sport Equipment</label>
        </div>
        <div>
          <input id="books2" name="tagSelect" type="checkbox" value="Books" />
          <label for="books2">Books</label>
        </div>
        <div>
          <input id="school-supplies2" name="tagSelect" type="checkbox" value="School Supplies" />
          <label for="school-supplies2">School Supplies</label>
        </div>
        <div>
          <input id="other2" name="tagSelect" type="checkbox" value="Other" />
          <label for="other2">Other</label>
        </div>
      </label>
      {{#if tagsError}} <!-- this is for server-side errors -->
      <div class="invalid-tags-error">{{tagsError}}</div>
      {{else}} <!-- this is for clientside errors -->
      <div class="clientside-tags-error"></div>
      {{/if}}

      <div id="imageUpload-container">
        <p>Select Images (Up to 4):</p>
        <label for="imageUpload" class="image-upload-label">
          <input type="file" name="images" class="imageUpload" />
        </label>
        {{#if imageError}} <!-- this is for server-side errors -->
        <div class="invalid-image-error">{{imageError}}</div>
        {{else}} <!-- this is for clientside errors -->
        <div class="clientside-image-error"></div>
        {{/if}}
        {{#if imageUploadError}} <!-- this is for server-side errors -->
        <div class="invalid-image-upload-error">{{imageUploadError}}</div>
        {{else}} <!-- this is for clientside errors -->
        <div class="clientside-image-upload-error"></div>
        {{/if}}
      </div>

      <label for="add-image-button"></label>
      <input type="button" id="add-image-button" name="addImage" value="Add Image">
      <label for="add-post-button"></label>
      <input type="submit" id="add-post-button" name="addPostButton" value="Add Post" />
    </form>
  </div>
</main>